<!--
  Generated template for the DrugDetails page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title *ngIf="drug">
      {{ drug.tradename }}
    </ion-title>
  </ion-navbar>

</ion-header>


<ion-content class="drug-screen">


  <ion-card>

    <ion-card-content *ngIf="drug">
      <h2 class="title">Tradename :</h2>
      <h1 class="lowercase" *ngIf="drug.tradename" text-center ion-text color="favorite">{{drug.tradename}}</h1>
      <h2 class="title">{{activeingredients.length>1? "Active Ingredient(s) :":"Active Ingredient :"}}</h2>
      <h2 class="lowercase justify">
          <h2 class="ai-item" *ngFor="let item of activeingredients; let i= index" (click)="searchActiveIngredient(item)">
            <span>{{ activeingredients?.length > 1 ? i+1+'-' :'*'}}</span> <span class="clickable"> {{item}}</span>
          </h2>
      </h2>
      <h3 class="title">Price : <span ion-text color="danger"><strong *ngIf="displayOptions.currency">{{drug.price | currency:displayOptions.currency.currencyCode:true:displayOptions.currency.digitInfo}}</strong></span></h3>
      <!-- <h2>Old Price: <span ion-text color="primary">{{drug.oldprice}}</span></h2> -->
      <h3 class="title" *ngIf="drug.group" class="title">Drug group: </h3>
      <div text-center (click)="viewDrugGroup()">
          <p class="clickable">
              {{drug.group}}
          </p>
        </div>
      <h3 class="title" *ngIf="drug.company">Company :</h3>
      <div text-center (click)="viewCompanyProducts()">
        <p class="clickable">{{drug.company}}</p>
      </div>

    </ion-card-content>
    <div padding *ngIf="showPamphlet && drug.pamphlet">
      <h2 *ngFor="let s of drug.pamphlet.split('$')">
          <strong>{{s}}</strong>
      </h2>
    </div>





  </ion-card>
  <a *ngIf="drug" style="color:brown;float:right;padding-right:10px;" href="mailto:osama@dawaey.com?subject=Correcting {{drug.tradename}} information">Report a correction</a>


  <ion-item-group *ngIf="drug">
    <ion-item-divider color="light">More Information :</ion-item-divider>
    <ion-card-content text-center>
      <a ion-button color="whatsapp" (click)="handleViewingPamphlet()">View Pamphlet</a>
      <br>
      <a ion-button color="google" (click)="viewPicture()">View Picture</a>

      <a ion-button color="google" (click)="googleMore()">Google More</a>

    </ion-card-content>
  </ion-item-group>

  <ion-item-group *ngIf="similars">
    <ion-item-divider color="light">Similars :</ion-item-divider>
    <ion-item *ngFor="let similar of similars" (click)="openDrug(similar)">
      {{similar.tradename}} <span class="price" style="float:right;">{{similar.price | currency:displayOptions.currency.currencyCode:true:displayOptions.currency.digitInfo}} EGP</span>
    </ion-item>

  </ion-item-group>

</ion-content>
